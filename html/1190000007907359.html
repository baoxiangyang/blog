任何优化的情况下性能也非常好，然而通过一些小小的优化，可以让性能进一步提升，通过以下这6条建议，可以数十倍加快渲染速度</p>
<h2>设置 NODE_ENV 为 Production</h2>
<p>React 在开发环境下，有完整的警告和错误检查，但它们不是为生产环境准备的，如果你看过 React 的源码，你会看到很多 <code>if (process.env.NODE_ENV != 'production')</code>，这些代码对于最终用户是不需要的，而且访问 <code>process.env.NODE_ENV</code> 会非常慢，对于生产环境而言，完全可以移除这些代码</p>
<p>如果你使用 <a href="https://webpack.github.io/">Webpack</a>，你可以使用 <a href="https://webpack.github.io/docs/list-of-plugins.html#defineplugin">DefinePlugin</a> 来替换 <code>process.env.NODE_ENV</code> 为 'production'，然后使用 <a href="https://webpack.github.io/docs/list-of-plugins.html#uglifyjsplugin">UglifyJsPlugin</a> 移除这些不会执行的代码</p>
<pre><code class="js">// webpack.config.js
...
plugins: [
    new webpack.DefinePlugin({
        'process.env.NODE_ENV': JSON.stringify('production')
    }),
    new webpack.optimize.UglifyJsPlugin({
        compress: {
            warnings: false
        }
    })
]
...</code></pre>
<h2>React 15 的渲染速度比 0.14 快约 25%</h2>
<p>在 <a href="https://facebook.github.io/react/blog/2016/04/07/react-v15.html">React 15 的更新</a>中非常重要的一项是，使用在现代化浏览器中性能更好的 <code>document.createElement</code> 替换 <code>innerHTML</code>，这一改动也意味着 React 将不再支持 IE8</p>
<h2>Babel Constant 和 Inline Elements 转换</h2>
<p>Babel 为开发者们提供了 <a href="http://babeljs.io/docs/plugins/transform-react-constant-elements/">React Constant Elements</a> 和 <a href="https://babeljs.io/docs/plugins/transform-react-inline-elements/">React Inline Elements</a>，这两款插件能够在编译阶段将代码转换成更高效的形式，注意仅将它们用于生产环境</p>
<h2>封装集合渲染为独立组件</h2>
<p>这一点在循环渲染集合组件时尤其重要，React 在渲染大型集合是性能十分糟糕，原因是 React 会在每次更新中全部重新渲染，因此建议将渲染集合的部分装为独立的组件渲染</p>
<pre><code class="js">// Bad
class MyComponent extends Component {
    render() {
        const {todos, user} = this.props;
        return (&lt;div&gt;
            {user.name}
            &lt;ul&gt;
                {todos.map(todo =&gt; &lt;TodoView todo={todo} key={todo.id} /&gt;)}
            &lt;/ul&gt;
        &lt;/div&gt;)
    }
}</code></pre>
<pre><code class="js">// Good
// 当 user.name 更新时，列表不会重新渲染
class MyComponent extends Component {
    render() {
        const {todos, user} = this.props;
        return (&lt;div&gt;
            {user.name}
            &lt;TodosView todos={todos} /&gt;
        &lt;/div&gt;)
    }
}

class TodosView extends Component {
    render() {
        const {todos} = this.props;
        return (&lt;ul&gt;
            {todos.map(todo =&gt; &lt;TodoView todo={todo} key={todo.id} /&gt;)}
        &lt;/ul&gt;)
    }
}</code></pre>
<h2>尽早绑定方法</h2>
<p>在 render() 中绑定的方法应该尽早声明，而不是在渲染时定义</p>
<pre><code class="js">// Bad
render() {
    return &lt;MyWidget onClick={() =&gt; { alert(this.state.text) }} /&gt;
}</code></pre>
<pre><code class="js">// Good
constructor() {
    this.handleClick = this.handleClick.bind(this);
}

handleClick() {
    alert(this.state.text);
}

render() {
    return &lt;MyWidget onClick={this.handleClick} /&gt;
}</code></pre>
<h2>不变组件禁用更新</h2>
<p>对于不需要更新的组件，可以在 <code>shouldComponentUpdate()</code> 中 <code>return false</code>，或者使用 <a href="https://facebook.github.io/react/docs/components-and-props.html">Stateless Component</a></p>
<pre><code class="js">// Bad
class Logo extends Component {
    render() {
        return &lt;div&gt;&lt;img src='logo.png' /&gt;&lt;/div&gt;;
    }
}</code></pre>
<pre><code class="js">// Good
class Logo extends Component {
    shouldComponentUpdate() {
        return false;
    }

    render() {
        return &lt;div&gt;&lt;img src='logo.png' /&gt;&lt;/div&gt;;
    }
}

// or Stateless Component
const Logo = () =&gt; &lt;div&gt;&lt;img src='logo.png' /&gt;&lt;/div&gt;;</code></pre>
<h5>参考文章</h5>
<ul>
<li><p><a href="https://github.com/markerikson/react-redux-links/blob/master/react-performance.md">React performance</a></p></li>
<li><p><a href="https://reactjsnews.com/how-to-make-your-react-apps-10x-faster">How to Make Your React Apps 15x Faster</a></p></li>
<li><p><a href="https://daveceddia.com/avoid-bind-when-passing-props/">Avoid bind when passing props</a></p></li>
<li><p><a href="https://mobxjs.github.io/mobx/best/react-performance.html">Optimizing rendering React components</a></p></li>
</ul>
<p>原文地址: <a href="https://www.93html.com/2016/12/24/%E5%A4%A7%E5%B9%85%E6%8F%90%E5%8D%87-React-%E6%80%A7%E8%83%BD%E7%9A%846%E4%B8%AA%E5%BB%BA%E8%AE%AE/">http://t.cn/R