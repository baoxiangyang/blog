<p>昨天跟在前端好友聊天时，她提到了一个问题：“数组去重你会怎么写？”。想了想，其实有好几种方法，决定在这篇笔记中做一些记录。</p>
<h3>思路一：</h3>
<ol>
<li><p>双层循环，外层循环元素，内层循环时比较值</p></li>
<li><p>如果有相同的值则跳过，不相同则push进数组</p></li>
</ol>
<pre><code class="javascript">Array.prototype.distinct = function(){
    var arr = this,
        result = [],
        i,
        j,
        len = arr.length;

    for(i = 0; i &lt; len; i++){
        for(j = i + 1; j &lt; len; j++){
            if(arr[i] === arr[j]){
                j = ++i;
            }
        }
        result.push(arr[i]);
    }
    return result;
}
var arra = [1,2,3,4,4,1,1,2,1,1,1];
arra.distinct();             //返回[3,4,2,1]</code></pre>
<h3>思路二：利用splice直接在原数组进行操作</h3>
<ol>
<li><p>双层循环，外层循环元素，内层循环时比较值</p></li>
<li><p>值相同时，则删去这个值</p></li>
</ol>
<p><code>注意点</code>:删除元素之后，需要将数组的长度也减1.</p>
<pre><code class="javascript">Array.prototype.distinct = function (){
    var arr = this,
        i,
        j,
        len = arr.length;

    for(i = 0; i &lt; len; i++){
        for(j = i + 1; j &lt; len; j++){
            if(arr[i] == arr[j]){
                arr.splice(j,1);
                len--;
                j--;
            }
        }
    }
    return arr;
};

var a = [1,2,3,4,5,6,5,3,2,4,56,4,1,2,1,1,1,1,1,1,];
var b = a.distinct();
console.log(b.toString()); //1,2,3,4,5,6,56</code></pre>
<p><strong>优点</strong>：简单易懂<br><strong>缺点</strong>：占用内存高，速度慢</p>
<h3>思路三：利用对象的属性不能相同的特点进行去重</h3>
<pre><code class="javascript">Array.prototype.distinct = function (){
    var arr = this,
        i,
        obj = {},
        result = [],
        len = arr.length;

    for(i = 0; i&lt; arr.length; i++){
        if(!obj[arr[i]]){    //如果能查找到，证明数组元素重复了
            obj[arr[i]] = 1;
            result.push(arr[i]);
        }
    }
    return result;
};

var a = [1,2,3,4,5,6,5,3,2,4,56,4,1,2,1,1,1,1,1,1,];
var b = a.distinct();
console.log(b.toString()); //1,2,3,4,5,6,56</code></pre>
<h3>思路四、数组递归去重</h3>
<ol>
<li><p>运用递归的思想</p></li>
<li><p>先排序，然后从最后开始比较，遇到相同，则删除</p></li>
</ol>
<pre><code class="javascript">Array.prototype.distinct = function (){
    var arr = this,
        len = arr.length;

    arr.sort(function(a,b){        //对数组进行排序才能方便比较
        return a - b;
    })

    function loop(index){
        if(index &gt;= 1){
            if(arr[index] === arr[index-1]){
                arr.splice(index,1);
            }
            loop(index - 1);    //递归loop函数进行去重
        }
    }
    loop(len-1);

    return arr;
};

var a = [1,2,3,4,5,6,5,3,2,4,56,4,1,2,1,1,1,1,1,1,56,45,56];
var b = a.distinct();
console.log(b.toString());        //1,2,3,4,5,6,45,56</code></pre>
<h3>思路五、利用<code>indexOf</code>以及<code>forEach</code>
</h3>
<pre><code class="javascript">Array.prototype.distinct = function (){
    var arr = this,
        result = [],
        len = arr.length;

    arr.forEach(function(v, i ,arr){        //这里利用map，filter方法也可以实现
        var bool =  arr.indexOf(v,i+1);        //从传入参数的下一个索引值开始寻找是否存在重复
        if(bool === -1){
            result.push(v);
        }
    })

    return result;
};

var a = [1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,3,3,3,3,3,3,3,2,3,3,2,2,1,23,1,23,2,3,2,3,2,3];
var b = a.distinct();
console.log(b.toString());    //1,23,2,3</code></pre>
<h3>思路六、利用<code>indexOf</code>以及<code>sort</code>（不推荐）</h3>
<p><strong>注意</strong>：这个方法依赖于浏览器内置Array类的sort方法，由于浏览器不同，效果就不同。（经实验，该方法在chrome浏览器无法实现去重）</p>
<pre><code class="javascript">Array.prototype.distinct = function (){
    var arr = this,
        len = arr.length,
        list = arr.concat().sort();    //注意这个地方的concat：复制一个新的数组

    list.sort(function(a,b){
        if(a === b){
            var index = arr.indexOf(a);
            arr.splice(index,1);    //在复制的数组进行排序（相邻的两个元素进行比较）时，操作原有数组arr
        }
    });
    return arr;
};

var a = [1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,3,3,3,3,3,3,3,2,3,3,2,2,1,23,1,23,2,3,2,3,2,3,25];
var b = a.distinct();
console.log(b.toString());
</code></pre>
<h3>思路七、利用ES6的set</h3>
<p>Set数据结构，它类似于数组，其成员的值都是唯一的。</p>
<ol><li><p>利用Array.from将Set结构转换成数组</p></li></ol>
<pre><code class="javascript">function dedupe(array){
    return Array.from(new Set(array));
}

dedupe([1,1,2,3]) //[1,2,3]</code></pre>
<ol><li><p>拓展运算符(...)内部使用for...of循环</p></li></ol>
<pre><code class="javascript">let arr = [3,5,2,2,5,5];
let unique = [...new Set(arr)];    //[3,5,2]</code></pre>
<h5>参考</h5>
<ol>
<li><p><a href="https://segmentfault.com/a/1190000000513057">浅谈Javascript数组去重</a></p></li>
<li><p><a href="http://www.jb51.net/article/80545.htm">javascript数组去重小结</a></p></li>
<li><p>ES6标准入门(第2版)<