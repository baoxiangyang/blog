<blockquote><p>注：本文是对众多博客的学习和总结，可能存在理解错误。请带着怀疑的眼光，同时如果有错误希望能指出。<br>如果你喜欢我的文章，可以关注我的私人博客:<a href="http://blog-qeesung.rhcloud.com/">http://blog-qeesung.rhcloud.com/</a></p></blockquote>
<p>入门前端也算是有三个月之久了，发现<code>Float</code>这个属性一直都很迷惑，只是知道一些简单的浮动规则，并没有深入去学习，一旦遇到一点复杂的浮动场景，自己也就懵了。</p>
<p>于是在网上找了数篇关于浮动的博客文章，加上自己理解，在这里总结一下。</p>
<p><img data-src="/img/bVy1E7" src="/img/bVy1E7.jpeg"></p>
<h2>w3 css float nine rules</h2>
<p><code>CSS</code>的<code>float</code>才开始学习的时候总是感觉没有任何的规律可言，总是有许多想不明白的地方，"为什么这个<code>div</code>块要在这个<code>div</code>块的下方？"，"为什么这个浮动元素会是这样对齐？"。</p>
<p>其实<code>Float</code>是有规则可以依据的，<code>Float</code>一共有九个规则来控制浮动元素的行为:</p>
<blockquote><ol>
<li><p>The left outer edge of a left-floating box may not be to the left of the left edge of its containing block. An analogous rule holds for right-floating elements.</p></li>
<li><p>If the current box is left-floating, and there are any left-floating boxes generated by elements earlier in the source document, then for each such earlier box, either the left outer edge of the current box must be to the right of the right outer edge of the earlier box, or its top must be lower than the bottom of the earlier box. Analogous rules hold for right-floating boxes.</p></li>
<li><p>The right outer edge of a left-floating box may not be to the right of the left outer edge of any right-floating box that is next to it. Analogous rules hold for right-floating elements.</p></li>
<li><p>A floating box's outer top may not be higher than the top of its containing block. When the float occurs between two collapsing margins, the float is positioned as if it had an otherwise empty anonymous block parent taking part in the flow. The position of such a parent is defined by the rules in the section on margin collapsing.</p></li>
<li><p>The outer top of a floating box may not be higher than the outer top of any block or floated box generated by an element earlier in the source document.</p></li>
<li><p>The outer top of an element's floating box may not be higher than the top of any line-box containing a box generated by an element earlier in the source document.</p></li>
<li><p>A left-floating box that has another left-floating box to its left may not have its right outer edge to the right of its containing block's right edge. (Loosely: a left float may not stick out at the right edge, unless it is already as far to the left as possible.) An analogous rule holds for right-floating elements.</p></li>
<li><p>A floating box must be placed as high as possible.</p></li>
<li><p>A left-floating box must be put as far to the left as possible, a right-floating box as far to the right as possible. A higher position is preferred over one that is further to the left/right.</p></li>
</ol></blockquote>
<p>上述内容摘录于<a href="https://www.w3.org/TR/CSS2/visuren.html#float-rules">此处</a>，咋一看挺复杂，其实真的挺复杂的，对于博主我这种英语渣来说，是挺难理解的，如果文中有翻译或者理解不对的地方，希望大家指正。</p>
<h2>CSS Float Rule1</h2>
<blockquote>
<p><strong>原文:</strong>The left outer edge of a left-floating box may not be to the left of the left edge of its containing block. An analogous rule holds for right-floating elements.</p>
<p><strong>译文:</strong>左浮动的盒子的左边界不会超出容器的左边界，右浮动同理.</p>
</blockquote>
<p>以左浮动为例：<br><strong>html</strong></p>
<pre><code class="vbscript-html">&lt;div id="outer-div"&gt;
    &lt;div id="inner-div"&gt;&lt;/div&gt;
&lt;/div&gt;</code></pre>
<p><strong>css</strong></p>
<pre><code class="CSS">body{
    background-color:yellow;
}

#outer-div{
    height:200px;
    width:200px;
    background-color:red;
}

#inner-div{
    height:100px;
    width:100px;
    background-color:blue;
    float:left;
}</code></pre>
<p><strong>显示效果</strong><br><img data-src="/img/bVy1E6" src="/img/bVy1E6.png"></p>
<p>100x100的蓝色盒子为左浮动元素，200x200的红色盒子为蓝色盒子的容器，可见蓝盒子的左边界没有超出红色盒子的左边界。</p>
<h2>CSS Float Rule2</h2>
<blockquote>
<p><strong>原文:</strong>If the current box is left-floating, and there are any left-floating boxes generated by elements earlier in the source document, then for each such earlier box, either the left outer edge of the current box must be to the right of the right outer edge of the earlier box, or its top must be lower than the bottom of the earlier box. Analogous rules hold for right-floating boxes.</p>
<p><strong>译文:</strong>如果盒子是左浮动的,那么在html文档中晚出现的左浮动盒子只允许出现在先出现的左浮动盒子的右边或者晚出现的左浮动盒子的顶部必须在早出现左浮动盒子的底部之下。右浮动同理.</p>
</blockquote>
<p>以左浮动为例:</p>
<p><strong>html</strong></p>
<pre><code class="html">&lt;div id="outer-div"&gt;
    &lt;div id="inner-div"&gt;100 x 100&lt;/div&gt;
    &lt;div id="inner-div"&gt;100 x 100&lt;/div&gt;
    &lt;div id="inner-div"&gt;100 x 100&lt;/div&gt;
    &lt;div id="inner-div1"&gt;65 x 100&lt;/div&gt;
    &lt;div id="inner-div1"&gt;65 x 100&lt;/div&gt;
    &lt;div id="inner-div"&gt;100 x 100&lt;/div&gt;
    &lt;div id="inner-div"&gt;100 x 100&lt;/div&gt;
    400 x  500
&lt;/div&gt;</code></pre>
<p><strong>css</strong></p>
<pre><code class="CSS">#outer-div{
    height:400px;
    width:500px;
    background-color:red;
}

#inner-div{
    height:100px;
    width:100px;
    background-color:blue;
    float:left;
    margin:10px;
}

#inner-div1{
    height:65px;
    width:100px;
    background-color:pink;
    float:left;
    margin:10px;
}

body{
    background-color:yellow
}</code></pre>
<p><strong>显示效果：</strong></p>
<p><img data-src="/img/bVy1E9" src="/img/bVy1E9.png"></p>
<p>这里需要解释的有几个地方:</p>
<ul>
<li><p>方块五为何不另起一行，放在方块一下面，而是放在方块四的下面？ 这里我们将会在Rule8和Rule9解释</p></li>
<li><p>方块六和方块1之间为何空着那么宽的空间？ 这是因为方块五早出现在方块六之前，所以方块六的顶部不会超出方块五的底部。</p></li>
</ul>
<h2>CSS Float Rule3</h2>
<blockquote>
<p><strong>原文:</strong>The right outer edge of a left-floating box may not be to the right of the left outer edge of any right-floating box that is next to it. Analogous rules hold for right-floating elements.</p>
<p><strong>译文:</strong>左浮动盒子的右外边缘可能不在其旁边的任何右浮动框的左外边缘的右边，右浮动同理.</p>
</blockquote>
<p><strong>html</strong></p>
<pre><code class="html">&lt;div id="outer-div"&gt;
    &lt;div id="float-left"&gt;150 x 270 float:left&lt;/div&gt;
    &lt;div id="float-right"&gt;100 x 250 float:right&lt;/div&gt;
    400 x 500
&lt;/div&gt;</code></pre>
<p><strong>css</strong></p>
<pre><code class="css">div{
    margin:5px;
}

#outer-div{
    height:400px;
    width:500px;
    background-color:red;
}

#float-left {
    height:150px;
    width:270px;
    float:left;
    background-color:blue;
}

#float-right{
    height:100px;
    width:250px;
    float:right;
    background-color:blue;
}
body{
    background-color:yellow
}</code></pre>
<p><strong>显示效果:</strong></p>
<p><img data-src="/img/bVy1Fe" src="/img/bVy1Fe.png"></p>
<p>左浮动盒子的宽度(270)+有浮动盒子的宽度(250)&gt; 容器的宽度(500)，所以右浮动盒子并没有和左浮动盒子并列，而是在左浮动盒子的下方。</p>
<h2>CSS Float Rule4</h2>
<blockquote>
<p><strong>原文:</strong>A floating box’s outer top may not be higher than the top of its containing block. When the float occurs between two collapsing margins, the float is positioned as if it had an otherwise empty anonymous block parent taking part in the flow. The position of such a parent is defined by the rules in the section on margin collapsing.</p>
<p><strong>译文:</strong>浮动盒子的顶部不能超出容器的顶部边界</p>
</blockquote>
<p>这个就不用解释了</p>
<h2>CSS Float Rule5</h2>
<blockquote>
<p><strong>原文:</strong>The outer top of a floating box may not be higher than the outer top of any block or floated box generated by an element earlier in the source document.</p>
<p><strong>译文:</strong>浮动盒子的顶部不会超出在html文档中早出现的的块级元素(block)或者是浮动元素的顶部</p>
</blockquote>
<p><strong>html</strong></p>
<pre><code class="html">&lt;div id="outer-div"&gt;
    &lt;div id="float-left"&gt;1&lt;/div&gt;
    &lt;div id="float-right"&gt;2&lt;/div&gt;
    &lt;div id="float-left" style="background-color:pink"&gt;3&lt;/div&gt;
    400 x 500
&lt;/div&gt;</code></pre>
<p><strong>css</strong></p>
<pre><code class="css">div{
    margin:5px;
}

#outer-div{
    height:400px;
    width:500px;
    background-color:red;
}

#float-left {
    height:100px;
    width:100px;
    float:left;
    background-color:lightblue;
}

#float-right{
    height:100px;
    width:200px;
    float:right;
    background-color:lightyellow;
}
body{
    background-color:yellow
}</code></pre>
<p><strong>显示效果:</strong><br><img data-src="/img/bVy1Ff" src="/img/bVy1Ff.png"></p>
<p>如果将红色容器的矿都缩短为，使之单行之内不能够容下三个浮动元素，那么哪一个盒子会被挤到下一行呢？1？2？3？<br>我们来试着将红色容器盒子的宽度缩减为400px</p>
<pre><code class="css">#outer-div{
    height:400px;
    width:400px;
    background-color:red;
}</code></pre>
<p>我们将会得到下面显示效果</p>
<p><img data-src="/img/bVy1Fg" src="/img/bVy1Fg.png"></p>
<p>可见盒子三被挤到了下一行，这是因为盒子二的html文件中比盒子三早出现，所以盒子二不能低于盒子三。于是就将盒子三下沉。</p>
<h2>CSS Float Rule6</h2>
<blockquote>
<p><strong>原文:</strong>The outer top of an element’s floating box may not be higher than the top of any line-box containing a box generated by an element earlier in the source document.</p>
<p><strong>译文:</strong>浮动盒子的顶部不会超出在html文档中早出现的包含盒子的line-box元素顶部</p>
</blockquote>
<p><strong>html</strong></p>
<pre><code class="html">&lt;div id="outer-div"&gt;
    &lt;span&gt;Purus ut faucibus pulvinar elementum integer enim neque, volutpat ac tincidunt vitae, semper quis lectus nulla at volutpat diam ut.&lt;/span&gt;
    &lt;span&gt;Dui vivamus arcu felis, bibendum ut tristique et, egestas quis ipsum suspendisse ultrices gravida dictum fusce ut placerat orci nulla!&lt;/span&gt;
    &lt;div id="float-left"&gt; 100 x 100&lt;/div&gt;
&lt;/div&gt;</code></pre>
<p><strong>css</strong></p>
<pre><code class="css">div{
    margin:5px;
}

#outer-div{
    height:400px;
    width:500px;
    background-color:red;
}

#float-left {
    height:100px;
    width:100px;
    float:left;
    background-color:lightblue;
}

body{
    background-color:yellow
}</code></pre>
<p><strong>显示效果:</strong></p>
<p><img data-src="/img/bVy1Fj" src="/img/bVy1Fj.png"></p>
<p>在浮动元素之前是一行行内元素，所以浮动盒子就没有超过文本的最后一行的顶部。可能这里不太清晰，我们将文本换成图片再看一下。</p>
<p><strong>html</strong></p>
<pre><code class="html">&lt;div id="outer-div"&gt;
    &lt;img src="http://placehold.it/100x100&amp;text=1"/&gt;
    &lt;img src="http://placehold.it/100x150&amp;text=2"/&gt;
    &lt;img src="http://placehold.it/100x100&amp;text=3"/&gt;
    &lt;img src="http://placehold.it/100x100&amp;text=4"/&gt;
    &lt;div id="float-left"&gt; 100 x 100&lt;/div&gt;
&lt;/div&gt;</code></pre>
<p><strong>显示效果</strong></p>
<p><img data-src="/img/bVy1Fo" src="/img/bVy1Fo.png"></p>
<p>为什么浮动元素不浮动上去把一个图片元素挤下来呢？如果浮动元素向上浮动将一个图片元素挤到第二行，那么现在浮动元素就高于比它早出现的图片元素。就违反了规则</p>
<p>这里我们试着将红色盒子容器宽度缩小，使之一行之内容不下四个图片。</p>
<p><strong>css</strong></p>
<pre><code class="CSS">#outer-div{
      height:400px;
      width:400px;
      background-color:red;
}</code></pre>
<p>那么图片将会折行，如下所示</p>
<p><img data-src="/img/bVy1Fw" src="/img/bVy1Fw.png"></p>
<p>行内元素图片四就环绕浮动元素，但是浮动元素并没有超出行内元素的。</p>
<h2>CSS Float Rule7</h2>
<blockquote>
<p><strong>原文:</strong>A left-floating box that has another left-floating box to its left may not have its right outer edge to the right of its containing block’s right edge. (Loosely: a left float may not stick out at the right edge, unless it is already as far to the left as possible.) An analogous rule holds for right-floating elements.</p>
<p><strong>译文:</strong>一个左浮动元素右边的另一个左浮动元素的右边界不会超出容器的右边界,右浮动同理</p>
</blockquote>
<p>这个也很好理解，就是如果一行之内要放第二个浮动元素，如果放不下了，那就换行。这个就不详细解释啦</p>
<h2>CSS Float Rule8</h2>
<blockquote>
<p><strong>原文:</strong>A floating box must be placed as high as possible.</p>
<p><strong>译文:</strong>一个浮动盒子应该放的尽可能的高</p>
</blockquote>
<h2>CSS Float Rule9</h2>
<blockquote>
<p><strong>原文:</strong>A left-floating box must be put as far to the left as possible, a right-floating box as far to the right as possible. A higher position is preferred over one that is further to the left/right.</p>
<p><strong>译文:</strong>一个左浮动元素应该放的尽可能的靠左，右浮动元素应该被放的尽可能的靠右。当元素既可以放置"最高"又可以"最右"的时候，优先考虑"最高"。</p>
</blockquote>
<p>上面的两个规则要连起来一起看，这里我们就借鉴一下规则二中的例子</p>
<p><img data-src="/img/bVy1E9" src="/img/bVy1E9.png"></p>
<p>为什么盒子五不直接放在盒子一下面，这是因为当一个元素既可以放的最左（最右）和最高的时候，优先选择最高，所以这里就放在了盒子四的下面。</p>
<h2>finally</h2>
<p>最后说两句，浮动元素其实对在它出现之前的元素影响不大，但是由于浮动是使元素脱离了文档流，那么在浮动元素之后出现的元素：</p>
<ul>
<li><p><strong>块元素:</strong>直接无视浮动元素，该怎么显示就怎么显示，并且会被浮动元素覆盖。</p></li>
<li><p><strong>行内元素</strong>:行内元素会环绕在浮动元素周围。</p></li>
</ul>
<p>下面我们就来一个简单的例子:</p>
<p><strong>html</strong></p>
<pre><code class="html">&lt;div id="outer-div"&gt;
    &lt;p&gt;
        P1 :  Augue neque, gravida in fermentum et, sollicitudin ac orci phasellus egestas tellus rutrum tellus pellentesque eu tincidunt tortor aliquam nulla?
    &lt;/p id="p1"&gt;
    &lt;div id="float-left"&gt; 100 x 100&lt;/div&gt;
    &lt;p id="p2"&gt;
            P2 :  At lectus urna duis convallis convallis tellus, id interdum velit laoreet id donec ultrices tincidunt arcu, non sodales neque sodales ut etiam. Feugiat vivamus at augue eget arcu dictum varius?
    &lt;/p&gt;
&lt;/div&gt;</code></pre>
<p><strong>css</strong></p>
<pre><code class="css">div{
    margin:5px;
}

#outer-div{
    height:400px;
    width:500px;
    background-color:red;
}

#float-left {
    height:100px;
    width:100px;
    float:left;
    background-color:lightblue;
}

body{
    background-color:yellow
}</code></pre>
<p><strong>显示效果</strong></p>
<p><img data-src="/img/bVy1FB" src="/img/bVy1FB.png"></p>
<p>这里因为<code>p1</code>是<code>block</code>元素，直接卡住了浮动元素，然后<code>p2</code>这个<code>block</code>元素直接忽视了浮动元素的存在，然后排版在浮动元素的下方，但是<code>p2</code>的中的文本是<code>inline</code>元素，于是就围绕浮动元素排布。</p>
<h2>参考文章</h2>
<ul>
<li><p><a href="https://www.w3.org/TR/CSS2/visuren.html#float-rules">W3 float-rules</a></p></li>
<li><p><a href="https://designshack.net/articles/css/everything-you-never-knew-about-css-floats/">Everything You Never Knew About CSS Floats</a></p></li>
<li><p><a href="http://roy.vanegas.org/tutorials/the_css_float_rules/introduction.php">The CSS Float Rules</a></p></li>
<li><p><a href="http://www.jianshu.com/p/07eb19957991#">CSS浮动float详解</a></p></li>
<li><p><a href="http://efe.baidu.com/blog/float/">回归CSS标准之Float</a></p></li>
</ul>